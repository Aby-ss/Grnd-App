{"version":3,"names":["_nitro","require","_execute","transaction","dbName","fn","locks","Error","isFinalized","executeOnTransaction","query","params","execute","executeAsyncOnTransaction","executeAsync","commit","result","HybridNitroSQLite","rollback","run","executionError","rollbackError","inProgress","startNextTransaction","Promise","resolve","reject","tx","start","then","catch","queue","push","exports","length","shift","setImmediate"],"sourceRoot":"../../../src","sources":["operations/transaction.ts"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAOA,IAAAC,QAAA,GAAAD,OAAA;AAeO,MAAME,WAAW,GAAGA,CACzBC,MAAc,EACdC,EAA6C,KAC3B;EAClB,IAAIC,YAAK,CAACF,MAAM,CAAC,IAAI,IAAI,EACvB,MAAMG,KAAK,CAAC,4CAA4CH,MAAM,EAAE,CAAC;EAEnE,IAAII,WAAW,GAAG,KAAK;;EAEvB;EACA,MAAMC,oBAAoB,GAAGA,CAC3BC,KAAa,EACbC,MAA0B,KACJ;IACtB,IAAIH,WAAW,EAAE;MACf,MAAMD,KAAK,CACT,sEAAsEH,MAAM,EAC9E,CAAC;IACH;IACA,OAAO,IAAAQ,gBAAO,EAACR,MAAM,EAAEM,KAAK,EAAEC,MAAM,CAAC;EACvC,CAAC;EAED,MAAME,yBAAyB,GAAGA,CAChCH,KAAa,EACbC,MAA0B,KACK;IAC/B,IAAIH,WAAW,EAAE;MACf,MAAMD,KAAK,CACT,sEAAsEH,MAAM,EAC9E,CAAC;IACH;IACA,OAAO,IAAAU,qBAAY,EAACV,MAAM,EAAEM,KAAK,EAAEC,MAAM,CAAC;EAC5C,CAAC;EAED,MAAMI,MAAM,GAAGA,CAAA,KAAM;IACnB,IAAIP,WAAW,EAAE;MACf,MAAMD,KAAK,CACT,uEAAuEH,MAAM,EAC/E,CAAC;IACH;IACA,MAAMY,MAAM,GAAGC,wBAAiB,CAACL,OAAO,CAACR,MAAM,EAAE,QAAQ,CAAC;IAC1DI,WAAW,GAAG,IAAI;IAClB,OAAOQ,MAAM;EACf,CAAC;EAED,MAAME,QAAQ,GAAGA,CAAA,KAAM;IACrB,IAAIV,WAAW,EAAE;MACf,MAAMD,KAAK,CACT,yEAAyEH,MAAM,EACjF,CAAC;IACH;IACA,MAAMY,MAAM,GAAGC,wBAAiB,CAACL,OAAO,CAACR,MAAM,EAAE,UAAU,CAAC;IAC5DI,WAAW,GAAG,IAAI;IAClB,OAAOQ,MAAM;EACf,CAAC;EAED,eAAeG,GAAGA,CAAA,EAAG;IACnB,IAAI;MACF,MAAMF,wBAAiB,CAACH,YAAY,CAACV,MAAM,EAAE,mBAAmB,CAAC;MAEjE,MAAMC,EAAE,CAAC;QACPU,MAAM;QACNH,OAAO,EAAEH,oBAAoB;QAC7BK,YAAY,EAAED,yBAAyB;QACvCK;MACF,CAAC,CAAC;MAEF,IAAI,CAACV,WAAW,EAAEO,MAAM,CAAC,CAAC;IAC5B,CAAC,CAAC,OAAOK,cAAc,EAAE;MACvB,IAAI,CAACZ,WAAW,EAAE;QAChB,IAAI;UACFU,QAAQ,CAAC,CAAC;QACZ,CAAC,CAAC,OAAOG,aAAa,EAAE;UACtB,MAAMA,aAAa;QACrB;MACF;MAEA,MAAMD,cAAc;IACtB,CAAC,SAAS;MACRd,YAAK,CAACF,MAAM,CAAC,CAAEkB,UAAU,GAAG,KAAK;MACjCd,WAAW,GAAG,KAAK;MACnBe,oBAAoB,CAACnB,MAAM,CAAC;IAC9B;EACF;EAEA,OAAO,IAAIoB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMC,EAAsB,GAAG;MAC7BC,KAAK,EAAEA,CAAA,KAAM;QACXT,GAAG,CAAC,CAAC,CAACU,IAAI,CAACJ,OAAO,CAAC,CAACK,KAAK,CAACJ,MAAM,CAAC;MACnC;IACF,CAAC;IAEDpB,YAAK,CAACF,MAAM,CAAC,EAAE2B,KAAK,CAACC,IAAI,CAACL,EAAE,CAAC;IAC7BJ,oBAAoB,CAACnB,MAAM,CAAC;EAC9B,CAAC,CAAC;AACJ,CAAC;AAAA6B,OAAA,CAAA9B,WAAA,GAAAA,WAAA;AAED,SAASoB,oBAAoBA,CAACnB,MAAc,EAAE;EAC5C,IAAIE,YAAK,CAACF,MAAM,CAAC,IAAI,IAAI,EAAE,MAAMG,KAAK,CAAC,0BAA0BH,MAAM,EAAE,CAAC;EAE1E,IAAIE,YAAK,CAACF,MAAM,CAAC,CAACkB,UAAU,EAAE;IAC5B;IACA;EACF;EAEA,IAAIhB,YAAK,CAACF,MAAM,CAAC,CAAC2B,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;IAClC5B,YAAK,CAACF,MAAM,CAAC,CAACkB,UAAU,GAAG,IAAI;IAE/B,MAAMK,EAAE,GAAGrB,YAAK,CAACF,MAAM,CAAC,CAAC2B,KAAK,CAACI,KAAK,CAAC,CAAE;IACvCC,YAAY,CAAC,MAAM;MACjBT,EAAE,CAACC,KAAK,CAAC,CAAC;IACZ,CAAC,CAAC;EACJ;AACF","ignoreList":[]}
