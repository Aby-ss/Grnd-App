{"version":3,"names":["locks","HybridNitroSQLite","execute","executeAsync","transaction","dbName","fn","Error","isFinalized","executeOnTransaction","query","params","executeAsyncOnTransaction","commit","result","rollback","run","executionError","rollbackError","inProgress","startNextTransaction","Promise","resolve","reject","tx","start","then","catch","queue","push","length","shift","setImmediate"],"sourceRoot":"../../../src","sources":["operations/transaction.ts"],"mappings":"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","ignoreList":[]}
